<div class="space-y-6">
  <!-- header  -->
  <div class="flex items-center justify-between">
    <h1 class="text-3xl font-bold text-foreground">Classes</h1>
    <button hlmBtn class="bg-primary hover:bg-primary-dark">
      âž• Add Class
    </button>
  </div>

  <!-- Classes section goes here  -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div
      *ngFor="let classItem of classesData"
      hlmCard
      class="hover:shadow-lg transition-shadow"
    >
      <div hlmCardHeader class="pb-3">
        <div class="flex items-center justify-between">
          <span hlmCardTitle class="text-xl">{{ classItem.name }}</span>
          <span hlmBadge variant="default" class="bg-primary">
            Grade {{ classItem.grade }}
          </span>
        </div>
      </div>
      <div hlmCardContent class="space-y-4">
        <div class="grid grid-cols-2 gap-4 text-sm">
          <div>
            <span class="text-muted-foreground">Class Teacher:</span>
            <p class="font-medium">{{ classItem.classTeacher }}</p>
          </div>
          <div>
            <span class="text-muted-foreground">Students:</span>
            <p class="font-medium">{{ classItem.totalStudents }}</p>
          </div>
          <div>
            <span class="text-muted-foreground">Room:</span>
            <p class="font-medium">{{ classItem.room }}</p>
          </div>
          <div>
            <span class="text-muted-foreground">Section:</span>
            <p class="font-medium">{{ classItem.section }}</p>
          </div>
        </div>
        <div>
          <span class="text-muted-foreground text-sm">Subjects:</span>
          <div class="flex flex-wrap gap-1 mt-1">
            <span
              *ngFor="let subject of classItem.subjects.slice(0, 3)"
              hlmBadge
              variant="secondary"
              class="text-xs"
            >
              {{ subject }}
            </span>
            <span
              *ngIf="classItem.subjects.length > 3"
              hlmBadge
              variant="secondary"
              class="text-xs"
            >
              +{{ classItem.subjects.length - 3 }} more
            </span>
          </div>
        </div>
        <div class="mt-3 border-t w-full">
          <!-- <button
            hlmBtn
            variant="outline"
            size="sm"
            class="w-full"
            (click)="setSelectedClass(classItem)"
            brnDialogTrigger
          >
            View Scheduleee
          </button> -->
          <hlm-dialog>
            <button
              brnDialogTrigger
              hlmBtn
              class="w-full"
              (click)="setSelectedClass(classItem)"
            >
              View Schedule
            </button>
            <hlm-dialog-content
              *brnDialogContent="let ctx"
              class="w-full max-w-none md:w-[600px] lg:w-[800px]"
            >
              <hlm-dialog-header>
                <h3 brnDialogTitle hlm>Class Details - Class 10A</h3>
              </hlm-dialog-header>
              <div class="max-h-[500px] overflow-y-auto w-full">
                <hlm-tabs tab="overview" class="w-full">
                  <hlm-tabs-list
                    class="grid w-full grid-cols-3"
                    aria-label="tabs example"
                  >
                    <button hlmTabsTrigger="overview">Overview</button>
                    <button hlmTabsTrigger="schedule">Schedule</button>
                    <button hlmTabsTrigger="subjects">Subjects</button>
                  </hlm-tabs-list>

                  <!-- Overview Tab Content -->
                  <div hlmTabsContent="overview" class="space-y-10">
                    <div *ngIf="selectedClass" class="grid grid-cols-2 gap-10">
                      <div class="space-y-4">
                        <h3 class="font-semibold text-lg">Class Information</h3>
                        <div class="space-y-2">
                          <div>
                            <span class="text-muted-foreground"
                              >Class Name:</span
                            >
                            <p class="font-medium">{{ selectedClass.name }}</p>
                          </div>
                          <div>
                            <span class="text-muted-foreground">Grade:</span>
                            <p class="font-medium">
                              {{ selectedClass.grade }}
                            </p>
                          </div>
                          <div>
                            <span class="text-muted-foreground">Section:</span>
                            <p class="font-medium">
                              {{ selectedClass.section }}
                            </p>
                          </div>
                          <div>
                            <span class="text-muted-foreground">Room:</span>
                            <p class="font-medium">{{ selectedClass.room }}</p>
                          </div>
                        </div>
                      </div>

                      <div class="space-y-4">
                        <h3 class="font-semibold text-lg">Staff & Students</h3>
                        <div class="space-y-2">
                          <div>
                            <span class="text-muted-foreground"
                              >Class Teacher:</span
                            >
                            <p class="font-medium">
                              {{ selectedClass.classTeacher }}
                            </p>
                          </div>
                          <div>
                            <span class="text-muted-foreground"
                              >Total Students:</span
                            >
                            <p class="font-medium">
                              {{ selectedClass.totalStudents }}
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      *ngIf="!selectedClass"
                      class="text-center text-muted-foreground py-8"
                    >
                      Please select a class to view details.
                    </div>
                  </div>

                  <!-- Schedule Tab Content -->
                  <div
                    hlmTabsContent="schedule"
                    class="space-y-4 max-h-[500px]"
                  >
                    <h3 class="font-semibold text-lg">Weekly Schedule</h3>
                    <div
                      *ngIf="selectedClass && selectedClass.schedule"
                      class="grid grid-cols-2 md:grid-cols-3 gap-4"
                    >
                      <div
                        *ngFor="let day of daysOfWeek"
                        class="border rounded-lg w-full"
                      >
                        <div class="p-4 pb-2 border-b">
                          <h4 class="text-base font-semibold capitalize">
                            {{ day }}
                          </h4>
                        </div>
                        <div class="p-4">
                          <div class="space-y-2">
                            <div
                              *ngFor="let subject of selectedClass?.schedule?.[day]; let i = index"
                              class="flex items-center justify-between text-sm"
                            >
                              <span class="font-medium">{{ subject }}</span>
                              <span class="text-muted-foreground">
                                {{ 9 + i }}:00 AM
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      *ngIf="!selectedClass"
                      class="text-center text-muted-foreground py-8"
                    >
                      Please select a class to view schedule.
                    </div>
                  </div>

                  <!-- Subjects Tab Content -->
                  <div hlmTabsContent="subjects" class="space-y-4">
                    <h3 class="font-semibold text-lg">Subjects</h3>
                    <div
                      *ngIf="selectedClass && selectedClass.subjects"
                      class="grid grid-cols-2 gap-4"
                    >
                      <div
                        *ngFor="let subject of selectedClass?.subjects"
                        class="border rounded-lg"
                      >
                        <div class="pt-6 p-4">
                          <div class="flex items-center space-x-3">
                            <div
                              class="w-10 h-10 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold"
                            >
                              {{ subject?.charAt(0) }}
                            </div>
                            <div>
                              <p class="font-medium">{{ subject }}</p>
                              <p class="text-sm text-muted-foreground">
                                5 hours/week
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      *ngIf="!selectedClass"
                      class="text-center text-muted-foreground py-8"
                    >
                      Please select a class to view subjects.
                    </div>
                  </div>
                </hlm-tabs>
              </div>
              <hlm-dialog-footer>
                <button hlmBtn type="submit">Save changes</button>
              </hlm-dialog-footer>
            </hlm-dialog-content>
          </hlm-dialog>
        </div>
      </div>
    </div>
  </div>
</div>
