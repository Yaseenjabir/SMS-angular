<div class="min-h-screen bg-gray-50 py-8 px-4">
  <div class="max-w-2xl mx-auto">
    <!-- Header -->
    <div class="bg-white rounded-lg shadow-lg mb-6 p-6">
      <h1 class="text-2xl font-bold text-blue-800 text-center mb-2">
        Add New Teacher
      </h1>

      <!-- Progress Steps -->
      <div class="flex justify-center items-center mb-6">
        <div class="flex items-center space-x-4">
          <div class="flex items-center">
            <div
              [class]="getStepClass(1)"
              class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold"
            >
              1
            </div>
            <span
              [class]="
                currentStep >= 1 ? 'text-blue-600 font-medium' : 'text-gray-500'
              "
              class="ml-2 hidden sm:inline"
              >Personal Info</span
            >
          </div>
          <div class="w-8 h-1 bg-gray-300">
            <div
              [class]="currentStep > 1 ? 'bg-blue-600' : 'bg-gray-300'"
              class="h-full transition-all duration-300"
            ></div>
          </div>
          <div class="flex items-center">
            <div
              [class]="getStepClass(2)"
              class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold"
            >
              2
            </div>
            <span
              [class]="
                currentStep >= 2 ? 'text-blue-600 font-medium' : 'text-gray-500'
              "
              class="ml-2 hidden sm:inline"
              >Professional Info</span
            >
          </div>
          <div class="w-8 h-1 bg-gray-300">
            <div
              [class]="currentStep > 2 ? 'bg-blue-600' : 'bg-gray-300'"
              class="h-full transition-all duration-300"
            ></div>
          </div>
          <div class="flex items-center">
            <div
              [class]="getStepClass(3)"
              class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold"
            >
              3
            </div>
            <span
              [class]="
                currentStep >= 3 ? 'text-blue-600 font-medium' : 'text-gray-500'
              "
              class="ml-2 hidden sm:inline"
              >Teaching Classes</span
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Form Container -->
    <div class="bg-white rounded-lg shadow-lg p-6">
      <form [formGroup]="teacherForm" (ngSubmit)="onSubmit()">
        <!-- Step 1: Personal Information -->
        <div *ngIf="currentStep === 1" class="space-y-6">
          <h2 class="text-xl font-semibold text-blue-700 mb-4">
            Personal Information
          </h2>

          <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div class="md:col-span-1">
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Title</label
              >
              <select
                formControlName="title"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Title</option>
                <option value="Mr">Mr</option>
                <option value="Mrs">Mrs</option>
              </select>
              <div
                *ngIf="
                  teacherForm.get('title')?.invalid &&
                  teacherForm.get('title')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Title is required
              </div>
            </div>

            <div class="md:col-span-3">
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Full Name</label
              >
              <input
                type="text"
                formControlName="fullName"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Enter full name"
              />
              <div
                *ngIf="
                  teacherForm.get('fullName')?.invalid &&
                  teacherForm.get('fullName')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Full name is required
              </div>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Phone</label
            >
            <input
              type="tel"
              formControlName="phone"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Enter phone number"
            />
            <div
              *ngIf="
                teacherForm.get('phone')?.invalid &&
                teacherForm.get('phone')?.touched
              "
              class="text-red-500 text-sm mt-1"
            >
              Valid phone number is required
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Email</label
            >
            <input
              type="email"
              formControlName="email"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Enter email address"
            />
            <div
              *ngIf="
                teacherForm.get('email')?.invalid &&
                teacherForm.get('email')?.touched
              "
              class="text-red-500 text-sm mt-1"
            >
              Valid email is required
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Address</label
            >
            <textarea
              formControlName="address"
              rows="3"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Enter complete address"
            ></textarea>
            <div
              *ngIf="
                teacherForm.get('address')?.invalid &&
                teacherForm.get('address')?.touched
              "
              class="text-red-500 text-sm mt-1"
            >
              Address is required
            </div>
          </div>
        </div>

        <!-- Step 2: Professional Information -->
        <div *ngIf="currentStep === 2" class="space-y-6">
          <h2 class="text-xl font-semibold text-blue-700 mb-4">
            Professional Information
          </h2>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Subject</label
              >
              <select
                formControlName="subject"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Subject</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Physics">Physics</option>
                <option value="Chemistry">Chemistry</option>
                <option value="Biology">Biology</option>
                <option value="History">History</option>
                <option value="Geography">Geography</option>
                <option value="Computer Science">Computer Science</option>
              </select>
              <div
                *ngIf="
                  teacherForm.get('subject')?.invalid &&
                  teacherForm.get('subject')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Subject is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Department</label
              >
              <select
                formControlName="department"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Department</option>
                <option value="Science">Science Department</option>
                <option value="Arts">Arts Department</option>
                <option value="Commerce">Commerce Department</option>
                <option value="Languages">Languages Department</option>
                <option value="Physical Education">Physical Education</option>
              </select>
              <div
                *ngIf="
                  teacherForm.get('department')?.invalid &&
                  teacherForm.get('department')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Department is required
              </div>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Qualification Degree</label
              >
              <select
                formControlName="qualificationDegree"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Degree</option>
                <option value="PHD">PHD</option>
                <option value="Masters">Masters</option>
                <option value="Bachelor">Bachelor</option>
                <option value="Diploma">Diploma</option>
              </select>
              <div
                *ngIf="
                  teacherForm.get('qualificationDegree')?.invalid &&
                  teacherForm.get('qualificationDegree')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Qualification degree is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Qualification Subject</label
              >
              <select
                formControlName="qualificationSubject"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Subject</option>
                <option value="Mathematics">Mathematics</option>
                <option value="English">English</option>
                <option value="Science">Science</option>
                <option value="Physics">Physics</option>
                <option value="Chemistry">Chemistry</option>
                <option value="Biology">Biology</option>
                <option value="History">History</option>
                <option value="Geography">Geography</option>
                <option value="Computer Science">Computer Science</option>
                <option value="Education">Education</option>
              </select>
              <div
                *ngIf="
                  teacherForm.get('qualificationSubject')?.invalid &&
                  teacherForm.get('qualificationSubject')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Qualification subject is required
              </div>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Experience (Years)</label
              >
              <select
                formControlName="experience"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              >
                <option value="">Select Experience</option>
                <option value="0">Fresh Graduate</option>
                <option *ngFor="let year of experienceYears" [value]="year">
                  {{ year }} Year{{ year > 1 ? "s" : "" }}
                </option>
              </select>
              <div
                *ngIf="
                  teacherForm.get('experience')?.invalid &&
                  teacherForm.get('experience')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Experience is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Joining Date</label
              >
              <input
                type="date"
                formControlName="joiningDate"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
              <div
                *ngIf="
                  teacherForm.get('joiningDate')?.invalid &&
                  teacherForm.get('joiningDate')?.touched
                "
                class="text-red-500 text-sm mt-1"
              >
                Joining date is required
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Teaching Classes -->
        <div *ngIf="currentStep === 3" class="space-y-6">
          <h2 class="text-xl font-semibold text-blue-700 mb-4">
            Teaching Classes
          </h2>

          <!-- Add New Class -->
          <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
            <h3 class="text-lg font-medium text-blue-800 mb-3">
              Add Teaching Class
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >Grade</label
                >
                <select
                  [(ngModel)]="selectedGrade"
                  [ngModelOptions]="{ standalone: true }"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                  <option value="">Select Grade</option>
                  <option *ngFor="let grade of grades" [value]="grade">
                    Grade {{ grade }}
                  </option>
                </select>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >Section</label
                >
                <select
                  [(ngModel)]="selectedSection"
                  [ngModelOptions]="{ standalone: true }"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                  <option value="">Select Section</option>
                  <option value="R">Red</option>
                  <option value="G">Green</option>
                  <option value="B">Blue</option>
                </select>
              </div>

              <div class="flex items-end">
                <button
                  type="button"
                  (click)="addTeachingClass()"
                  [disabled]="!selectedGrade || !selectedSection"
                  class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
                >
                  Add Class
                </button>
              </div>
            </div>
          </div>

          <!-- Teaching Classes List -->
          <div *ngIf="teachingClasses.length > 0" class="space-y-3">
            <h3 class="text-lg font-medium text-gray-800">Assigned Classes</h3>
            <div class="space-y-2">
              <div
                *ngFor="let teachingClass of teachingClasses; let i = index"
                class="flex items-center justify-between bg-white border border-gray-200 rounded-lg p-3 shadow-sm"
              >
                <div class="flex items-center space-x-4">
                  <span class="text-sm font-medium text-gray-800"
                    >Grade {{ teachingClass.grade }}</span
                  >
                </div>
                <button
                  type="button"
                  (click)="removeTeachingClass(i)"
                  class="text-red-500 hover:text-red-700 focus:outline-none"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M6 18L18 6M6 6l12 12"
                    ></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <div
            *ngIf="teachingClasses.length === 0"
            class="text-center py-8 text-gray-500"
          >
            No teaching classes assigned yet. Please add at least one class.
          </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="flex justify-between mt-8 pt-6 border-t border-gray-200">
          <button
            type="button"
            (click)="previousStep()"
            *ngIf="currentStep > 1"
            class="bg-gray-300 text-gray-700 py-2 px-6 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors"
          >
            Previous
          </button>

          <div class="ml-auto">
            <button
              type="button"
              (click)="nextStep()"
              *ngIf="currentStep < 3"
              [disabled]="!isCurrentStepValid()"
              class="bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
            >
              Next
            </button>

            <button
              type="submit"
              *ngIf="currentStep === 3"
              [disabled]="!teacherForm.valid || teachingClasses.length === 0"
              class="bg-green-600 text-white py-2 px-6 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"
            >
              Submit Teacher
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<hlm-toaster />
